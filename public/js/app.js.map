{"version":3,"sources":["app/public/js/analytics.js","app/public/js/cookieMessage.js","app/public/js/geoLocation.js","app/public/js/headerMobileMenuToggle.js","app/public/js/headerMobileSearchToggle.js","app/public/js/headerSearchTypeahead.js","app/public/js/init.js","app/public/js/isWrapped.js","app/public/js/menuToggle.js","app/public/js/openToggle.js","app/public/js/skiplinkFix.js"],"names":["global","$","jQuery","hj","anchors","openingTimes__openResults","each","prop","val","on","Webtrends","multiTrack","argsa","window","document","setCookie","name","value","options","cookieString","days","date","Date","setTime","getTime","toGMTString","location","protocol","cookie","getCookie","nameEQ","cookies","split","i","len","length","charAt","substring","indexOf","decodeURIComponent","banner","getElementById","style","display","$geoLocate","$geoLocateDenied","$geoLocateError","$geoLocateLocate","$geoLocateSearching","error","e","code","PERMISSION_DENIED","hide","show","POSITION_UNAVAILABLE","TIMEOUT","success","position","latitude","coords","longitude","locationDescription","encodeURIComponent","navigator","geolocation","getCurrentPosition","preventDefault","menuToggle","doToggle","menuToggleButton","hasAttribute","removeAttribute","setAttribute","toggleClass","ele","class1","classes","className","regex","RegExp","hasOne","match","replace","nav","menuClose","querySelector","addEventListener","searchToggle","searchToggleButton","search","menuSearchContainer","searchClose","NHSUK","headerSearchTypeahead","headerId","maxResultCount","searchField","searchUrl","suggestUrl","suggestions","Bloodhound","datumTokenizer","tokenizers","obj","whitespace","limit","queryTokenizer","remote","url","wildcard","init","initialize","typeahead","classNames","cursor","dataset","highlight","hint","menu","selectable","suggestion","minLength","source","ttAdapter","templates","header","notFound","data","displayitem","disp_t","disp","key","svg","action_t","action","bind","attr","toLowerCase","wrapInner","css","width","addClass","insertAfter","headerheight","height","headerheightmargin","parseInt","topoffset","left","top","removeClass","require","$this","$height","$lineHeight","Math","floor","parents","$search","$menuButton","$menu","menuHeight","target","parent","hasClass","click","event","removeAttr","focus"],"mappings":"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","file":"public/js/app.js","sourcesContent":["((global) => {\n  const $ = global.jQuery;\n  const hj = global.hj;\n\n  const anchors = {\n    openingTimes__openResults: 'OpeningTimes-OpenResults',\n  };\n\n  $.each(anchors, (prop, val) => {\n    $(`a.${prop}`).on('touchstart click', () => {\n      if (typeof hj === 'function') {\n        hj('tagRecording', [val]);\n      }\n      // Webtrends is added asynchronously via DOM manipulation so must be accessed directly\n      // rather than setting to a local variable as hj and jQuery are above\n      if (global.Webtrends) {\n        global.Webtrends.multiTrack({ argsa: ['DCSext.CTSLinkClicks', val, 'WT.dl', '121'] });\n      }\n    });\n  });\n})(window);\n","((global) => {\n  const $ = global.jQuery;\n  const document = global.document;\n\n  function setCookie(name, value, options = {}) {\n    let cookieString = `${name}=${value}; path=/`;\n\n    if (options.days) {\n      const date = new Date();\n      date.setTime(date.getTime() + (options.days * 24 * 60 * 60 * 1000));\n      cookieString = `${cookieString}; expires=${date.toGMTString()}`;\n    }\n\n    if (document.location.protocol === 'https:') {\n      cookieString = `${cookieString}; Secure`;\n    }\n\n    document.cookie = cookieString;\n  }\n\n  function getCookie(name) {\n    const nameEQ = `${name}=`;\n    const cookies = document.cookie.split(';');\n\n    for (let i = 0, len = cookies.length; i < len; i++) {\n      let cookie = cookies[i];\n\n      while (cookie.charAt(0) === ' ') {\n        cookie = cookie.substring(1, cookie.length);\n      }\n\n      if (cookie.indexOf(nameEQ) === 0) {\n        return decodeURIComponent(cookie.substring(nameEQ.length));\n      }\n    }\n\n    return null;\n  }\n\n  $(() => {\n    const banner = document.getElementById('global-cookies-banner');\n\n    if (banner && getCookie('nhsuk_seen_cookie_message') === null) {\n      banner.style.display = 'block';\n      setCookie('nhsuk_seen_cookie_message', 'yes', { days: 28 });\n    }\n  });\n})(window);\n","((global) => {\n  const $ = global.jQuery;\n  const $geoLocate = $('.geo-locate');\n  const $geoLocateDenied = $('.geo-locate--denied');\n  const $geoLocateError = $('.geo-locate--error');\n  const $geoLocateLocate = $('.geo-locate--locate');\n  const $geoLocateSearching = $('.geo-locate--searching');\n  const window = global;\n\n  function error(e) {\n    switch (e.code) {\n      case e.PERMISSION_DENIED:\n        $geoLocate.hide();\n        $geoLocateDenied.show();\n        break;\n      case e.POSITION_UNAVAILABLE:\n        $geoLocateError.show();\n        break;\n      case e.TIMEOUT:\n        $geoLocateError.show();\n        break;\n      default:\n        $geoLocateError.show();\n    }\n    $geoLocateSearching.hide();\n  }\n\n  function success(position) {\n    const latitude = position.coords.latitude;\n    const longitude = position.coords.longitude;\n\n    if (latitude && longitude) {\n      const locationDescription = 'your location';\n      const location = `./results?location=${encodeURIComponent(locationDescription)}&latitude=${latitude}&longitude=${longitude}`;\n      // load the results page\n      window.location = location;\n    } else {\n      error();\n    }\n  }\n\n  if (navigator.geolocation) {\n    $geoLocate.show();\n\n    $geoLocateLocate.on('click', (e) => {\n      $geoLocateError.hide();\n      navigator.geolocation.getCurrentPosition(success, error);\n      $geoLocateSearching.show();\n      e.preventDefault();\n    });\n  }\n})(window);\n","((global) => {\n  const document = global.document;\n\n  const menuToggle = {\n    doToggle: (e) => {\n      e.preventDefault();\n\n      if (menuToggle.menuToggleButton.hasAttribute('aria-expanded')) {\n        menuToggle.menuToggleButton.removeAttribute('aria-expanded');\n      } else {\n        menuToggle.menuToggleButton.setAttribute('aria-expanded', 'true');\n      }\n\n      function toggleClass(ele, class1) {\n        const classes = ele.className;\n        const regex = new RegExp(`\\\\b ${class1}\\\\b`);\n        const hasOne = classes.match(regex);\n        // eslint-disable-next-line no-param-reassign\n        class1 = class1.replace(/\\s+/g, '');\n        if (hasOne) {\n          // eslint-disable-next-line no-param-reassign\n          ele.className = classes.replace(regex, '');\n        } else {\n          // eslint-disable-next-line no-param-reassign\n          ele.className = `${classes} ${class1}`;\n        }\n      }\n\n      toggleClass(menuToggle.menuToggleButton, 'active');\n      toggleClass(menuToggle.nav, 'js-show');\n    },\n    menuClose: document.querySelector('.c-nav-primary__close-link'),\n    menuToggleButton: document.querySelector('.menu-toggle__button'),\n    nav: document.querySelector('.c-nav-primary'),\n  };\n\n  menuToggle.menuToggleButton.addEventListener('click', (e) => { menuToggle.doToggle(e); });\n  menuToggle.menuClose.addEventListener('click', (e) => { menuToggle.doToggle(e); });\n})(window);\n","((global) => {\n  const document = global.document;\n\n  const searchToggle = {\n    doToggle: (e) => {\n      e.preventDefault();\n\n      if (searchToggle.searchToggleButton.hasAttribute('aria-expanded')) {\n        searchToggle.searchToggleButton.removeAttribute('aria-expanded');\n      } else {\n        searchToggle.searchToggleButton.setAttribute('aria-expanded', 'true');\n      }\n\n      function toggleClass(ele, class1) {\n        const classes = ele.className;\n        const regex = new RegExp(`\\\\b ${class1}\\\\b`);\n        const hasOne = classes.match(regex);\n        // eslint-disable-next-line no-param-reassign\n        class1 = class1.replace(/\\s+/g, '');\n        if (hasOne) {\n          // eslint-disable-next-line no-param-reassign\n          ele.className = classes.replace(regex, '');\n        } else {\n          // eslint-disable-next-line no-param-reassign\n          ele.className = `${classes} ${class1}`;\n        }\n      }\n\n      toggleClass(searchToggle.searchToggleButton, 'active');\n      toggleClass(searchToggle.search, 'js-show');\n      toggleClass(searchToggle.menuSearchContainer, 'js-show');\n    },\n    menuSearchContainer: document.querySelector('.nhsuk-global-header__menusearch'),\n    search: document.querySelector('.search-container'),\n    searchClose: document.querySelector('.search-close'),\n    searchToggleButton: document.querySelector('.search-toggle__button'),\n  };\n\n  searchToggle.searchToggleButton.addEventListener('click', (e) => { searchToggle.doToggle(e); });\n  searchToggle.searchClose.addEventListener('click', (e) => { searchToggle.doToggle(e); });\n})(window);\n","// eslint-disable-next-line no-use-before-define\nconst NHSUK = NHSUK || {};\n\nNHSUK.headerSearchTypeahead = ((global) => {\n  const headerId = '#header';\n  const $ = global.jQuery;\n  const maxResultCount = 10;\n  const searchField = '#q';\n  const searchUrl = 'https://www.nhs.uk/search?collection=nhs-meta';\n  const suggestUrl = `https://nhs.funnelback.co.uk/s/suggest.json?collection=nhs-meta&partial_query=%QUERY&sort=0&fmt=json++&profile=&show=${maxResultCount}`;\n  const suggestions = new Bloodhound({\n    datumTokenizer: Bloodhound.tokenizers.obj.whitespace('disp'),\n    limit: maxResultCount,\n    queryTokenizer: Bloodhound.tokenizers.whitespace,\n    remote: {\n      url: suggestUrl,\n      wildcard: '%QUERY',\n    },\n  });\n\n  function init() {\n    suggestions.initialize();\n\n    $(searchField).typeahead({\n      classNames: {\n        cursor: 'c-search-menu__item--selected',\n        dataset: 'c-search-menu__results',\n        highlight: '',\n        hint: 'c-search__input--shadow',\n        menu: 'c-search-menu',\n        selectable: 'c-search-menu__item--selectable',\n        suggestion: 'c-search-menu__item',\n      },\n      highlight: true,\n      minLength: 2,\n    },\n    {\n      display: 'disp',\n      limit: maxResultCount,\n      name: '-suggestions',\n      source: suggestions.ttAdapter(),\n      templates: {\n        header: '<li class=\"c-search-menu__prepend\">Search suggestions</li>',\n        notFound: '<li class=\"c-search-menu__nosuggestions\">No suggestions</li>',\n        suggestion: (data) => {\n          let displayitem = '';\n          switch (data.disp_t) {\n            case 'J':\n              $.each(data.disp, (key, value) => {\n                displayitem += (key, value);\n                displayitem += ' ';\n              });\n              break;\n\n            default:\n\n              if (data.disp.length > 36) {\n                displayitem = `${data.disp.substring(0, 36)}...`;\n              } else {\n                displayitem = data.disp;\n              }\n              break;\n          }\n\n          const svg = '<svg class=\"nhsuk-icon nhsuk-icon__search\" xmlns=\"http://www.w3.org/2000/svg\" focusable=\"false\" viewBox=\"0 0 24 24\" aria-hidden=\"true\"><path d=\"M19.71 18.29l-4.11-4.1a7 7 0 1 0-1.41 1.41l4.1 4.11a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 10a5 5 0 1 1 5 5 5 5 0 0 1-5-5z\"/><image class=\"nhsuk-icon__search nhsuk-icon__search--fallback\" src=\"/images/icons/icon-search-blue-20px.png\" xlink:href=\"\"></svg>';\n\n          switch (data.action_t) {\n            case 'Q':\n              displayitem = `<li>${svg}<a href=\"${searchUrl}&query=${data.action}\">${displayitem}</a></li>`;\n              break;\n            case 'E':\n              displayitem = `<li>${svg}<a href=\"${searchUrl}&query=${data.key}&${data.action}\">${displayitem}</a></li>`;\n              break;\n            case 'U':\n              displayitem = `<li>${svg}<a href=\"${data.action}\">${displayitem}</a></li>`;\n              break;\n            case 'C':\n              displayitem = `<li>${svg}<a href=\"#\" onClick=\"${data.action}\">${displayitem}</a></li>`;\n              break;\n            default:\n              displayitem = `<li>${svg}<a href=\"${searchUrl}&query=${data.disp}\">${displayitem}</a></li>`;\n              break;\n          }\n\n          return displayitem;\n        },\n      },\n    })\n      .bind('typeahead:open', () => {\n        const val = $(searchField).typeahead('val');\n        const value = $(searchField).attr('value');\n\n        if (val === value) {\n          $(searchField).typeahead('val', value);\n        }\n        if (val.toLowerCase() === 'enter a search term') {\n          $(searchField).typeahead('val', '');\n        }\n      })\n      .bind('typeahead:render', () => {\n        $(`${headerId} .c-search-menu__results`).wrapInner('<ul class=\"c-search-menu__list\"></ul>');\n        $(`${headerId} .c-search-menu__list`).css('width', $('.c-search__container').width());\n        $(`${headerId} .c-search__input`).addClass('c-search__input--dropdown');\n        $(`${headerId} .c-search__submit`).addClass('c-search__submit--dropdown');\n        $(`${headerId} .c-search-menu`).insertAfter($('.nhsuk-global-header__search'));\n\n        // calculate where to position the dropdown from the top and left\n        const headerheight = $('.nhsuk-global-header__menusearch').height();\n        const headerheightmargin = parseInt($('.nhsuk-global-header__search').css('margin-bottom'), 10);\n        const topoffset = headerheight - headerheightmargin;\n        const position = $(`${headerId} .search-container`).position();\n\n        $(`${headerId} .c-search-menu`).css({\n          left: position.left,\n          top: topoffset,\n        });\n      })\n      .bind('typeahead:close', () => {\n        $(`${headerId} .c-search__input`).removeClass('c-search__input--dropdown');\n        $(`${headerId} .c-search__submit`).removeClass('c-search__submit--dropdown');\n      });\n  }\n\n  return {\n    init,\n  };\n})(window);\n\n$(() => {\n  NHSUK.headerSearchTypeahead.init();\n  const headerId = '#header';\n  // hide the extra input field created by typeahead to screen readers\n  $(`${headerId} .c-search__input--shadow`).attr('aria-hidden', 'true').addClass('visually-hidden');\n  $(`${headerId} .c-search__input.tt-input`).attr('role', 'textbox');\n});\n","// Require all modules needed for the application\nrequire('./analytics');\nrequire('./cookieMessage');\nrequire('./geoLocation');\nrequire('./headerMobileMenuToggle');\nrequire('./headerMobileSearchToggle');\nrequire('./headerSearchTypeahead');\nrequire('./isWrapped');\nrequire('./menuToggle');\nrequire('./openToggle');\nrequire('./skiplinkFix');\n","((global) => {\n  const $ = global.jQuery;\n\n  $('h2.results__name').each((i, e) => {\n    const $this = $(e);\n    const $height = $this.height();\n    const $lineHeight = Math.floor(parseInt($this.css('line-height').replace('px', ''), 10));\n    if ($height > $lineHeight) {\n      $this.parents('li').addClass('wrapped');\n    }\n  });\n})(window);\n","((global) => {\n  const $ = global.jQuery;\n  const $search = $('#search');\n  const $menuButton = $('#menu-icon');\n  const $menu = $('#main-nav');\n\n  $menuButton.on('click', (e) => {\n    e.preventDefault();\n    $menuButton.toggleClass('menu-icon--open');\n    $menu.toggleClass('main-nav--open');\n\n    // measure menu and position search underneath\n    const menuHeight = $menu.height();\n    $search.css('top', menuHeight);\n  });\n})(window);\n","((global) => {\n  const $ = global.jQuery;\n  $('.openingTimes-panel__toggle').on('click', (e) => {\n    const $this = $(e.target);\n    $this.parent().toggleClass('open');\n    if ($this.parent().hasClass('open')) {\n      $this.attr('aria-expanded', 'true');\n    } else {\n      $this.attr('aria-expanded', 'false');\n    }\n  });\n})(window);\n","((global) => {\n  const $ = global.jQuery;\n  $('.nhsuk-c-skiplink__link').click((event) => {\n    event.preventDefault();\n    $(':header:first').attr('tabindex', -1).on('blur focusout', (e) => {\n      $(e.target).removeAttr('tabindex');\n    }).focus();\n  });\n})(window);\n"]}